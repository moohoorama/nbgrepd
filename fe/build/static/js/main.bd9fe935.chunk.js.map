{"version":3,"sources":["Status.js","App.js","index.js"],"names":["columns","title","dataIndex","render","v","toLocaleString","key","record","react_default","a","createElement","space","size","name","StatusList","_useState","useState","_useState2","Object","slicedToArray","infos","setInfos","_useState3","_useState4","loading","setLoading","loadInfos","axios","get","then","res","data","e","message","error","toString","useEffect","Fragment","descriptions","bordered","extra","es_button","onClick","table","rowKey","dataSource","pagination","SubMenu","Menu","Header","Layout","Content","Sider","Main","location","useLocation","selectedMenu","setSelectedMenu","apiURL","setAPIURL","firstPath","pathname","split","apiurl","history","useHistory","accountMenu","menu","Item","href","go","catch","react_router_dom","to","style","fontSize","float","dropdown","overlay","DownOutlined","layout","width","className","mode","selectedKeys","defaultOpenKeys","height","borderRight","push","Divider","concat","padding","margin","minHeight","overflow","react_router","exact","path","App","defaults","baseURL","window","ROUTE_PREFIX","ReactDOM","StrictMode","basename","CookiesProvider","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.bd9fe935.chunk.js","sourcesContent":["import React  from 'react';\nimport { Table, Button, message } from \"antd\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Descriptions, Space } from \"antd\";\n\nconst columns = [\n    { title: \"Name\", dataIndex: \"name\", render: v => v.toLocaleString()},\n    { title: \"ServerList\", dataIndex: \"servers\", render: v => v.toLocaleString()},\n    { title: \"Command\", key: \"action\", render: (v, record) => (<Space size=\"middle\">\n                {record.name}\n            </Space>)},\n];\n\nfunction StatusList() {\n    const [infos, setInfos] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    const loadInfos = () => {\n        setLoading(true);\n        axios.get(\"/status\")\n            .then(\n                res => {\n                    setLoading(false);\n                    setInfos(res.data);\n                },\n                e => {\n                    setLoading(false);\n                    message.error(e.toString());\n                }\n            )\n    }\n\n    useEffect(() => {\n        loadInfos();\n    }, []);\n\n\n    return (\n        <>\n            <Descriptions bordered title=\"Cluster List\"\n                extra={\n                    <Space>\n                        <Button onClick={() => loadInfos() }>새로고침</Button>\n                    </Space>\n                }\n            />\n            <Table rowKey={\"Name\"} loading={loading} dataSource={infos} columns={columns} pagination={50} />\n        </>\n    )\n}\n\nexport { StatusList };\n","import 'antd/dist/antd.css';\n\nimport React  from 'react';\n\nimport { Dropdown, Layout, Menu, message, Space } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport { useHistory, useLocation } from 'react-router';\nimport { Link, Switch, Route } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nimport { StatusList } from './Status.js';\nimport axios from 'axios';\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Sider } = Layout;\n\nfunction App() {\n  return <Main />\n}\n\n\nfunction Main() {\n  let location = useLocation();\n  const [selectedMenu, setSelectedMenu] = useState([\"\"]);\n  const [apiURL, setAPIURL] = useState(\"\");\n\n\n  useEffect(() => {\n    let firstPath = location.pathname.split(\"/\")[1]\n    setSelectedMenu([firstPath])\n  }, [location]);\n\n  useEffect(() => { axios.get(\"/api_url\").then(res => setAPIURL(res.data.apiurl)) }, []);\n\n  let history = useHistory();\n\n  const requestLogout = () => {\n    axios.get(\"/auth/logout\")\n      .then(() => history.go(0))\n      .catch(e => message.error(e.toString()))\n  }\n\n  const accountMenu = <Menu>\n      <Menu.Item>\n        <a href='#!' onClick={() => requestLogout() }>Logout</a>\n      </Menu.Item>\n    </Menu>\n\n  return (\n    <>\n    <Header>\n      <Link to=\"/\" style={{ fontSize: \"18px\" }} onClick={() => setSelectedMenu([])}>TSCoke Admin</Link>\n      <Space style={{ float: \"right\" }}>\n        <Dropdown overlay={accountMenu}>\n          <a href='#!'> testtest <DownOutlined /> </a>\n        </Dropdown>\n      </Space>\n    </Header>\n    <Layout>\n      <Sider width={200} className=\"site-layout-background\">\n        <Menu\n          mode=\"inline\"\n          selectedKeys={selectedMenu}\n          defaultOpenKeys={['sub1', 'sub2', 'sub3']}\n          style={{ height: '100%', borderRight: 0 }}\n        >\n          <Menu.Item key=\"\" title=\"Dashboard\" onClick={() => history.push(\"/\")} >Dashboard</Menu.Item>\n          <Menu.Item key=\"account\" title=\"account\" onClick={() => history.push(\"/account\")} >Account</Menu.Item>\n          <SubMenu key=\"sub1\" title=\"TSD\" >\n            <Menu.Item key=\"tsd\" title=\"TSD\" onClick={() => history.push(\"/tsd\")}>List</Menu.Item>\n            <Menu.Item key=\"tsd_env\" title=\"Env\" onClick={() => history.push(\"/tsd_env\")}>Env</Menu.Item>\n            <Menu.Item key=\"tsd_tickets\" title=\"Tickets\" onClick={() => history.push(\"/tsd_tickets\")}>Tickets</Menu.Item>\n          </SubMenu>\n          \n          <SubMenu key=\"sub2\" title=\"QD\">\n          </SubMenu>\n          <SubMenu key=\"sub3\" title=\"GACTL\">\n          </SubMenu>\n          <SubMenu key=\"sub4\" title=\"RD\">\n          </SubMenu>\n\n          <Menu.Divider />\n          <Menu.Item key=\"swagger\" title=\"Swagger\"><a href={apiURL}>Swagger API</a></Menu.Item>\n          <Menu.Item key=\"shard_history\" title=\"Shard History\"><a href={`${apiURL}/static/shard_history`}>Shard History</a></Menu.Item>\n        </Menu>\n      </Sider>\n        <Content\n          style={{\n            padding: 24,\n            margin: \"24px 0px 0 0\",\n            minHeight: 280,\n            overflow: \"initial\",\n          }}>\n          <Switch>\n            <Route exact path=\"/\">dashboard</Route>\n            <Route exact path=\"/status\"><StatusList /></Route>\n\t\t  </Switch>\n        </Content>\n      </Layout>\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { CookiesProvider }  from 'react-cookie';\nimport axios from 'axios';\n\naxios.defaults.baseURL = window.ROUTE_PREFIX + \"/api/v1/\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={window.ROUTE_PREFIX}>\n      <CookiesProvider>\n        <App />\n      </CookiesProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}